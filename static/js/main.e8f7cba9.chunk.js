(this.webpackJsonpchat=this.webpackJsonpchat||[]).push([[0],{102:function(t,n,e){},103:function(t,n,e){"use strict";e.r(n);var a=e(3),r=e(0),c=e.n(r),i=e(15),o=e.n(i),u=e(46),s=e(16),l=e(23),j=e(32);e(94),e(105),e(106);j.a.initializeApp({apiKey:"AIzaSyB2D6yZFSAVsOX7FCI01blBAUYVsKbtR5E",authDomain:"new-chat-app-b3a32.firebaseapp.com",projectId:"new-chat-app-b3a32",storageBucket:"new-chat-app-b3a32.appspot.com",messagingSenderId:"1042482776604",appId:"1:1042482776604:web:7f7e86ad3b598ee810edd9",measurementId:"G-P0Q02B2ZBT"});j.a;var b=j.a.auth(),d=j.a.firestore(),f=j.a.storage(),h=j.a.firestore.Timestamp,p=j.a.firestore.FieldValue,O=c.a.createContext(),m=function(t){var n=t.children,e=Object(r.useState)(null),c=Object(l.a)(e,2),i=c[0],o=c[1];return Object(r.useEffect)((function(){b.onAuthStateChanged((function(t){o(t)}))}),[]),Object(a.jsx)(O.Provider,{value:i,children:n})},x=e(59),g=e(79),v=function(t){var n=t.component,e=Object(g.a)(t,["component"]),c=Object(r.useContext)(O);return Object(a.jsx)(s.b,Object(x.a)(Object(x.a)({},e),{},{render:function(t){return c?Object(a.jsx)(n,Object(x.a)({},t)):Object(a.jsx)(s.a,{to:"/signin"})}}))},C=e(9),k=e(148),w=e(138),y=Object(w.a)((function(){return{root:{"& label.Mui-focused":{color:"#CCFF66",backgroundColor:"rgba( 255, 255, 255, 0)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#CCFF66"}}},input:{backgroundColor:"rgba( 255, 255, 255, 0.55)"}}})),F=function(t){var n=y();return Object(a.jsx)(k.a,{className:n.root,InputProps:{className:n.input},variant:t.variant,margin:"dense",label:t.label,fullWidth:t.fullWidth,required:t.required,multiline:t.multiline,rows:t.rows,value:t.value,onChange:t.onChange,type:t.type,color:"secondary"})},S=e(142),B=e(10);function I(){var t=Object(C.a)(["\n  text-align:center;\n"]);return I=function(){return t},t}var A=B.a.div(I()),E=function(t){return Object(a.jsx)(A,{children:Object(a.jsx)(S.a,{variant:"contained",color:"secondary",type:t.type,children:t.label})})},W=e(143),_=e(149),z=e(147),N=e(144),q=e(145),D=e(146),R=e(60),U=e(75),L=e.n(U),P=Object(w.a)((function(t){return{cardWrap:{backgroundColor:"rgba( 255, 255, 255, 0.55)"},media:{height:0,paddingTop:"56.25%"},cardFlex:{display:"flex",justifyContent:"spacebetween",alignItems:"center",padding:"1px 4px 1px 4px"}}})),T=function(t){var n=P(),e=t.image,r=t.id;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(K,{}),Object(a.jsxs)(W.a,{className:n.cardWrap,children:[Object(a.jsx)(N.a,{avatar:Object(a.jsx)(_.a,{src:t.avater}),title:t.userName}),e?Object(a.jsx)(q.a,{className:n.media,image:t.image}):Object(a.jsx)(a.Fragment,{}),Object(a.jsxs)(D.a,{className:n.cardFlex,children:[Object(a.jsx)(R.a,{children:t.coment}),Object(a.jsxs)(z.a,{"aria-label":"add to favorites",onClick:function(){return t.likeButtonClick(r)},children:[Object(a.jsx)(L.a,{color:t.favoritCount?"secondary":"disabled"}),Object(a.jsx)("p",{children:t.favoritCount})]})]})]})]})};function V(){var t=Object(C.a)(["\n    padding:0;\n    margin:0;\n    height:30px;\n    \n"]);return V=function(){return t},t}var J=B.a.div(V()),K=function(){return Object(a.jsx)(J,{})},M=e(76),Z=e.n(M);function G(){var t=Object(C.a)(["\n    color:#80b11e;\n    \n"]);return G=function(){return t},t}function H(){var t=Object(C.a)(["\n    display:flex;\n    justify-content:space-around;\n    \n"]);return H=function(){return t},t}function Q(){var t=Object(C.a)(["\n    display:none;\n"]);return Q=function(){return t},t}var X=B.a.input(Q()),Y=B.a.div(H()),$=B.a.label(G()),tt=function(t){var n=Object(r.useCallback)((function(n){var e=n.target.files,a=new Blob(e,{type:"image/jpeg"}),r="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",c=Array.from(crypto.getRandomValues(new Uint32Array(16))).map((function(t){return r[t%r.length]})).join(""),i=f.ref("image").child(c).put(a);i.then((function(){i.snapshot.ref.getDownloadURL().then((function(n){var e={id:c,path:n};t.setImage(e)}))}))}),[t.setImage]);return Object(a.jsxs)(Y,{children:[Object(a.jsx)(_.a,{src:t.image.path,alt:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf"}),Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:t.label}),Object(a.jsx)(z.a,{children:Object(a.jsxs)($,{children:[Object(a.jsx)(Z.a,{color:"inherit"}),Object(a.jsx)(X,{type:"file",onChange:function(t){return n(t)}})]})})]})]})},nt=e(78),et=e.n(nt),at=e(77),rt=e.n(at);function ct(){var t=Object(C.a)(["\n    color:#CCFF66;\n    text-shadow:0.5px 0 4px  black;\n    margin:0;\n    font-size:20px;\n\n\n"]);return ct=function(){return t},t}function it(){var t=Object(C.a)(["\n    display:flex;\n    justify-content:space-around;\n    align-items:center;\n    margin:0;\n \n"]);return it=function(){return t},t}var ot=B.a.div(it()),ut=B.a.p(ct()),st=function(t){return Object(a.jsxs)(ot,{children:[Object(a.jsxs)(z.a,{onClick:function(){return t.backlog()},children:[Object(a.jsx)(rt.a,{style:{color:"#CCFF66"}}),Object(a.jsx)(ut,{children:"\u623b\u308b"})]}),Object(a.jsxs)(z.a,{onClick:function(){return t.advancelog()},children:[Object(a.jsx)(ut,{children:"\u9032\u3080"}),Object(a.jsx)(et.a,{style:{color:"#CCFF66"}})]})]})};function lt(){var t=Object(C.a)(["\n  text-align:center;\n"]);return lt=function(){return t},t}var jt=B.a.div(lt()),bt=function(t){return Object(a.jsx)(jt,{children:Object(a.jsx)(S.a,{variant:"contained",color:"primary",onClick:t.onClick,children:t.label})})},dt=e.p+"static/media/camera-1130731_1920.1345b04f.jpg",ft=e.p+"static/media/old-1130741_1920.b21d9f42.jpg";function ht(){var t=Object(C.a)(["\n    \n    height:430px;\n   \n    overflow:auto;\n"]);return ht=function(){return t},t}function pt(){var t=Object(C.a)(["\n    width:80vw;\n    margin:0 auto;\n   @media(min-width:600px){\n       width:60vh;\n   }\n\n"]);return pt=function(){return t},t}function Ot(){var t=Object(C.a)(["\n    font-size:30px;\n    font-family: 'Amatic SC', cursive;\n    text-shadow:0.1px 0 5px  black;\n    margin:0;\n    \n"]);return Ot=function(){return t},t}function mt(){var t=Object(C.a)(["\n    background-image:url(",");\n    background-position:center;\n    color:#CCFF66;\n    text-shadow:0.1px 0 1px  black;\n    height:110vh;\n    width:100%;\n    @media(max-width:600px){\n        background-image:url(",");\n        background-size:cover;\n        height:140vh;\n\n    }\n"]);return mt=function(){return t},t}var xt=B.a.div(mt(),dt,ft),gt=B.a.h2(Ot()),vt=B.a.form(pt()),Ct=B.a.div(ht()),kt=function(){var t=Object(r.useState)(""),n=Object(l.a)(t,2),e=n[0],c=n[1],i=Object(r.useState)([]),o=Object(l.a)(i,2),u=o[0],s=o[1],j=Object(r.useState)(""),f=Object(l.a)(j,2),m=f[0],x=f[1],g=Object(r.useState)(!1),v=Object(l.a)(g,2),C=v[0],k=v[1],w=Object(r.useCallback)((function(t){c(t.target.value)}),[c]),y=Object(r.useContext)(O),S=function(t){k(!0),d.collection("message").doc(t).update({likeCount:p.increment(1)})};return Object(r.useEffect)((function(){var t=document.getElementById("scroll-area");if(C)return!1;t&&(t.scrollTop=t.scrollHeight)})),Object(r.useEffect)((function(){d.collection("message").orderBy("created_at","asc").limitToLast(20).onSnapshot((function(t){s(t.docs.map((function(t){return{id:t.id,data:t.data()}}))),console.log("!!!")}))}),[]),Object(a.jsxs)(xt,{children:[Object(a.jsx)(gt,{children:"Chat Room"}),Object(a.jsxs)(vt,{onSubmit:function(t){if(t.preventDefault(),k(!1),""===e.trim())return!1;""===m?d.collection("message").add({user:y.displayName,content:e,icon:y.photoURL,created_at:h.now(),likeCount:0}):d.collection("message").add({user:y.displayName,content:e,icon:y.photoURL,created_at:h.now(),likeCount:0,image:m.path}),c(""),x("")},children:[Object(a.jsx)(Ct,{id:"scroll-area",children:u.map((function(t){return Object(a.jsx)(T,{id:t.id,avater:t.data.icon,userName:t.data.user,coment:t.data.content,image:t.data.image,favoritCount:t.data.likeCount,likeButtonClick:S},t.id)}))}),Object(a.jsx)(st,{backlog:function(){if(u.length<5)return!1;var t=u.shift();d.collection("message").orderBy("created_at","asc").endBefore(t.data.created_at).limitToLast(20).onSnapshot((function(t){var n=t.docs.map((function(t){return{id:t.id,data:t.data()}}));if(0===n.length)return!1;s(n)}))},advancelog:function(){if(0===u.length)return!1;var t=u[u.length-1];d.collection("message").orderBy("created_at","asc").startAfter(t.data.created_at).limit(20).onSnapshot((function(t){var n=t.docs.map((function(t){return{id:t.id,data:t.data()}}));if(0===n.length)return!1;s(n)}))}}),Object(a.jsx)(F,{label:"\u30b3\u30e1\u30f3\u30c8\u5165\u529b",fullWidth:!0,required:!0,multiline:!0,rows:3,value:e,onChange:w,type:"text",variant:"outlined"}),Object(a.jsx)(tt,{image:m,setImage:x,label:"\u753b\u50cf\u3092\u6295\u7a3f\u3059\u308b"}),Object(a.jsx)(E,{label:"\u30b3\u30e1\u30f3\u30c8\u9001\u4fe1",type:"submit"}),Object(a.jsx)(K,{}),Object(a.jsx)(bt,{label:"\u30b5\u30a4\u30f3\u30a2\u30a6\u30c8\u3059\u308b",onClick:function(){return b.signOut()}})]})]})},wt=e.p+"static/media/A8F99755-43CF-4391-B5BD-16AF4CFB21F2_1_105_c.51409c4f.jpeg";function yt(){var t=Object(C.a)(["  \n    :hover{\n        border-bottom: solid 1px #00FF00;\n        color:#00FF00;\n    }\n"]);return yt=function(){return t},t}function Ft(){var t=Object(C.a)(["\n    background-color:rgba(255,255,255,0.8);\n    height:90vh;\n    width:80vw;\n    text-align:center;\n    position:absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    -webkit-transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    margin:auto;\n    padding:0 20px;\n    @media(min-width:600px){\n        height:60vh;\n        width:40vw\n    }   \n"]);return Ft=function(){return t},t}function St(){var t=Object(C.a)(["\n    position:relative;\n    min-height:100vh;\n    width:100%;\n    background-image:url(",");\n    background-size:cover;\n    background-position:center;\n    color:#CCFF66;\n    text-shadow:0.5px 0 2px  black;\n"]);return St=function(){return t},t}var Bt=B.a.div(St(),wt),It=B.a.form(Ft()),At=B.a.p(yt()),Et=function(t){var n=t.history,e=Object(r.useState)(""),c=Object(l.a)(e,2),i=c[0],o=c[1],u=Object(r.useState)(""),j=Object(l.a)(u,2),d=j[0],f=j[1],h=Object(r.useState)(""),p=Object(l.a)(h,2),m=p[0],x=p[1],g=Object(r.useState)([]),v=Object(l.a)(g,2),C=v[0],k=v[1],w=Object(r.useCallback)((function(t){o(t.target.value)}),[o]),y=Object(r.useCallback)((function(t){f(t.target.value)}),[f]),S=Object(r.useCallback)((function(t){x(t.target.value)}),[x]);if(Object(r.useContext)(O))return Object(a.jsx)(s.a,{to:"/room"});return Object(a.jsx)(Bt,{children:Object(a.jsxs)(It,{onSubmit:function(t){if(t.preventDefault(),""===i||""===d||""===m)return!1;b.createUserWithEmailAndPassword(d,m).then((function(t){t.user.updateProfile({displayName:i,photoURL:C.path}),n.push("/room"),o(""),f(""),x("")})).catch((function(t){console.log(t)}))},children:[Object(a.jsx)("h2",{children:"\u767b\u9332\u30d5\u30a9\u30fc\u30e0"}),Object(a.jsx)("div",{children:Object(a.jsx)(F,{label:"\u30cb\u30c3\u30af\u30cd\u30fc\u30e0",fullWidth:!0,required:!0,multiline:!1,rows:1,value:i,onChange:w,type:"text"})}),Object(a.jsx)("div",{children:Object(a.jsx)(F,{label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",fullWidth:!0,required:!0,multiline:!1,rows:1,value:d,onChange:y,type:"Email"})}),Object(a.jsx)("div",{children:Object(a.jsx)(F,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9",fullWidth:!0,required:!0,multiline:!1,rows:1,value:m,onChange:S,type:"password"})}),Object(a.jsx)(K,{}),Object(a.jsx)(tt,{setImage:k,image:C,label:"\u30d7\u30ed\u30d5\u30a3\u30fc\u30eb\u753b\u50cf\u3092\u8a2d\u5b9a\u3059\u308b"}),Object(a.jsx)(K,{}),Object(a.jsx)(E,{label:"\u767b\u9332",type:"submit"}),Object(a.jsx)(At,{onClick:function(){return n.push("/signin")},children:"\u3059\u3067\u306b\u767b\u9332\u6e08\u306e\u65b9\u306f\u3053\u3061\u3089"})]})})},Wt=e.p+"static/media/03E93616-2EB5-4EE9-BC5A-811687D40B5F.f9f7d737.jpeg";function _t(){var t=Object(C.a)([" \n    :hover{\n        border-bottom: solid 1px #00FF00;\n        color:#00FF00;\n    }\n"]);return _t=function(){return t},t}function zt(){var t=Object(C.a)(["\n   background-color:rgba(255,255,255,0.8);\n    height:20rem;\n    width:80vw;\n    text-align:center;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    -webkit-transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    margin:auto;\n    padding:0 20px;\n    @media(min-width:600px){\n        width:50vh;\n    }   \n"]);return zt=function(){return t},t}function Nt(){var t=Object(C.a)(["\n    position:relative;\n    width:100%;\n    min-height:100vh;\n    background-image:url(",");\n    background-size:cover;\n    background-position:50% 100%;\n    color:#CCFF66;\n    text-shadow:0.5px 0 2px  black;\n"]);return Nt=function(){return t},t}var qt=B.a.div(Nt(),Wt),Dt=B.a.form(zt()),Rt=B.a.p(_t()),Ut=function(t){var n=t.history,e=Object(r.useState)(""),c=Object(l.a)(e,2),i=c[0],o=c[1],u=Object(r.useState)(""),j=Object(l.a)(u,2),d=j[0],f=j[1],h=Object(r.useCallback)((function(t){o(t.target.value)}),[o]),p=Object(r.useCallback)((function(t){f(t.target.value)}),[f]);if(Object(r.useContext)(O))return Object(a.jsx)(s.a,{to:"/room"});return Object(a.jsx)(qt,{children:Object(a.jsxs)(Dt,{onSubmit:function(t){if(t.preventDefault(),""===i||""===d)return!1;b.signInWithEmailAndPassword(i,d).then((function(t){console.log(t),n.push("/room"),f(""),o("")})).catch((function(t){console.log(t)}))},children:[Object(a.jsx)("h2",{children:"\u30b5\u30a4\u30f3\u30a4\u30f3"}),Object(a.jsx)("div",{children:Object(a.jsx)(F,{label:"\u30e1\u30fc\u30eb\u30a2\u30c9\u30ec\u30b9",fullWidth:!0,required:!0,multiline:!1,rows:1,value:i,onChange:h,type:"Email"})}),Object(a.jsx)("div",{children:Object(a.jsx)(F,{label:"\u30d1\u30b9\u30ef\u30fc\u30c9",fullWidth:!0,required:!0,multiline:!1,rows:1,value:d,onChange:p,type:"password"})}),Object(a.jsx)(K,{}),Object(a.jsx)(E,{label:"\u30b5\u30a4\u30f3\u30a4\u30f3",type:"submit"}),Object(a.jsx)(Rt,{onClick:function(){return n.push("/signup")},children:"\u672a\u767b\u9332\u306e\u65b9\u306f\u3053\u3061\u3089"})]})})},Lt=e.p+"static/media/20210203_163636.f1e0986e.jpg";function Pt(){var t=Object(C.a)(["\n    display:flex;\n    justify-content:space-around;\n    padding-top:90vh;\n    \n    \n"]);return Pt=function(){return t},t}function Tt(){var t=Object(C.a)(["\n    width:80%;\n    text-align:center;\n    margin:0;\n    position:absolute;\n    top: 80%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    -webkit-transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    color:#FFFF;\n    font-size:1.5vw;\n"]);return Tt=function(){return t},t}function Vt(){var t=Object(C.a)(["\n    margin:0;\n    position:absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    -webkit-transform: translate(-50%, -50%);\n    -ms-transform: translate(-50%, -50%);\n    font-size:7.5vw;\n    color:#FFFF;\n    font-family: 'Amatic SC', cursive;\n"]);return Vt=function(){return t},t}function Jt(){var t=Object(C.a)(["\n     background-image:url(",");\n     height:100vh;\n     background-size:cover;\n     background-position:center;\n     position:relative;\n"]);return Jt=function(){return t},t}var Kt=B.a.div(Jt(),Lt),Mt=B.a.h2(Vt()),Zt=B.a.p(Tt()),Gt=B.a.div(Pt()),Ht=function(t){var n=t.history;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)(Kt,{children:[Object(a.jsx)(Mt,{children:"Journey through ChatRoom"}),Object(a.jsxs)(Zt,{children:["\u3061\u3087\u3063\u3068\u3057\u305f\u30c9\u30e9\u30a4\u30d6\u3084\u5c0f\u65c5\u884c\u304c\u597d\u306a\u65b9\u306b\u5411\u3051\u3066\u306e",Object(a.jsx)("br",{}),"\u5c0f\u3055\u306a\u7121\u6599\u30c1\u30e3\u30c3\u30c8\u30eb\u30fc\u30e0\u3067\u3059\u3002"]}),Object(a.jsxs)(Gt,{children:[Object(a.jsx)(bt,{label:"\u30e6\u30fc\u30b6\u30fc\u767b\u9332\u3059\u308b",onClick:function(){return n.push("/signup")}}),Object(a.jsx)(bt,{label:"\u30b5\u30a4\u30f3\u30a4\u30f3\u3059\u308b",onClick:function(){return n.push("/signin")}})]})]})})},Qt=(e(102),function(){return Object(a.jsx)(m,{children:Object(a.jsx)(u.a,{children:Object(a.jsxs)(s.d,{children:[Object(a.jsx)(s.b,{exact:!0,path:"(/)?",component:Ht}),Object(a.jsx)(s.b,{exact:!0,path:"/signup",component:Et}),Object(a.jsx)(s.b,{exact:!0,path:"/signin",component:Ut}),Object(a.jsx)(v,{exact:!0,path:"/room",component:kt})]})})})});o.a.render(Object(a.jsx)(Qt,{}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.e8f7cba9.chunk.js.map